# -*- mode: python -*-

import mem

def build():
    env = mem.nodes.Env(c = mem.tasks.c,
                        CFLAGS = ["-O1", "-Wall", "-Wextra"])

    goodbye_o = mem.build_dir("goodbye", env)
    env.c.prog("hello",
               objs = [env.c.obj("hello.o", "hello.c", env=env),
                       env.c.obj("main.o", "main.c", env=env),
                       goodbye_o],
               env=env)
